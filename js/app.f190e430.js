(function(t){function e(e){for(var r,n,s=e[0],l=e[1],c=e[2],d=0,u=[];d<s.length;d++)n=s[d],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&u.push(o[n][0]),o[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);h&&h(e);while(u.length)u.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],r=!0,s=1;s<a.length;s++){var l=a[s];0!==o[l]&&(r=!1)}r&&(i.splice(e--,1),t=n(n.s=a[0]))}return t}var r={},o={app:0},i=[];function n(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=r,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var h=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"081f":function(t,e,a){},"0dfa":function(t,e,a){"use strict";a("081f")},"2d4e":function(t,e,a){"use strict";a("e67e")},"3bbe":function(t,e,a){var r,o,i;a("7037");(function(n,s){o=[e,a("313e")],r=s,i="function"===typeof r?r.apply(e,o):r,void 0===i||(t.exports=i)})(0,(function(t,e){var a=function(t){"undefined"!==typeof console&&console&&console.error&&console.error(t)};e?e.registerTheme("chalk",{color:["#0ba82c","#2c6eff","#16f2d9","#fe211e","#fa6900","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],backgroundColor:"#222733",textStyle:{},title:{textStyle:{color:"#ffffff"},subtextStyle:{color:"#dddddd"}},line:{itemStyle:{normal:{borderWidth:"4"}},lineStyle:{normal:{width:"3"}},symbolSize:"0",symbol:"circle",smooth:!0},radar:{itemStyle:{normal:{borderWidth:"4"}},lineStyle:{normal:{width:"3"}},symbolSize:"0",symbol:"circle",smooth:!0},bar:{itemStyle:{normal:{barBorderWidth:0,barBorderColor:"#ccc"},emphasis:{barBorderWidth:0,barBorderColor:"#ccc"}}},pie:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},scatter:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},boxplot:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},parallel:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},sankey:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},funnel:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},gauge:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},candlestick:{itemStyle:{normal:{color:"#fc97af",color0:"transparent",borderColor:"#fc97af",borderColor0:"#87f7cf",borderWidth:"2"}}},graph:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"}},lineStyle:{normal:{width:"1",color:"#ffffff"}},symbolSize:"0",symbol:"circle",smooth:!0,color:["#759aa0","#dd6b66","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],label:{normal:{textStyle:{color:"#293441"}}}},map:{itemStyle:{normal:{areaColor:"#f3f3f3",borderColor:"#999999",borderWidth:.5},emphasis:{areaColor:"rgba(255,178,72,1)",borderColor:"#eb8146",borderWidth:1}},label:{normal:{textStyle:{color:"#893448"}},emphasis:{textStyle:{color:"rgb(137,52,72)"}}}},geo:{itemStyle:{normal:{areaColor:"#f3f3f3",borderColor:"#999999",borderWidth:.5},emphasis:{areaColor:"rgba(255,178,72,1)",borderColor:"#eb8146",borderWidth:1}},label:{normal:{textStyle:{color:"#893448"}},emphasis:{textStyle:{color:"rgb(137,52,72)"}}}},categoryAxis:{axisLine:{show:!0,lineStyle:{color:"#666666"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#aaaaaa"}},splitLine:{show:!1,lineStyle:{color:["#e6e6e6"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},valueAxis:{axisLine:{show:!0,lineStyle:{color:"#666666"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#aaaaaa"}},splitLine:{show:!1,lineStyle:{color:["#e6e6e6"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},logAxis:{axisLine:{show:!0,lineStyle:{color:"#666666"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#aaaaaa"}},splitLine:{show:!1,lineStyle:{color:["#e6e6e6"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},timeAxis:{axisLine:{show:!0,lineStyle:{color:"#666666"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#aaaaaa"}},splitLine:{show:!1,lineStyle:{color:["#e6e6e6"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},toolbox:{iconStyle:{normal:{borderColor:"#999999"},emphasis:{borderColor:"#666666"}}},legend:{textStyle:{color:"#999999"}},tooltip:{axisPointer:{lineStyle:{color:"#cccccc",width:1},crossStyle:{color:"#cccccc",width:1}}},timeline:{lineStyle:{color:"#87f7cf",width:1},itemStyle:{normal:{color:"#87f7cf",borderWidth:1},emphasis:{color:"#f7f494"}},controlStyle:{normal:{color:"#87f7cf",borderColor:"#87f7cf",borderWidth:.5},emphasis:{color:"#87f7cf",borderColor:"#87f7cf",borderWidth:.5}},checkpointStyle:{color:"#fc97af",borderColor:"rgba(252,151,175,0.3)"},label:{normal:{textStyle:{color:"#87f7cf"}},emphasis:{textStyle:{color:"#87f7cf"}}}},visualMap:{color:["#fc97af","#87f7cf"]},dataZoom:{backgroundColor:"rgba(255,255,255,0)",dataBackgroundColor:"rgba(114,204,255,1)",fillerColor:"rgba(114,204,255,0.2)",handleColor:"#72ccff",handleSize:"100%",textStyle:{color:"#333333"}},markPoint:{label:{normal:{textStyle:{color:"#293441"}},emphasis:{textStyle:{color:"#293441"}}}}}):a("ECharts is not Loaded")}))},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],n=a("2877"),s={},l=Object(n["a"])(s,o,i,!1,null,null,null),c=l.exports,h=a("8c4f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"screen-container",style:t.bgColor},[a("header",{staticClass:"screen-header",style:t.color},[a("div",{staticClass:"header-left"}),t._m(0),a("div",{staticClass:"header-right"},[a("div",[a("img",{attrs:{src:t.themeImg},on:{click:t.handleChangeTheme}}),a("span",[t._v(t._s(t.nowTime))])])])]),a("div",{staticClass:"screen-body"},[a("div",{staticClass:"screen-body-left"},[a("div",{staticClass:"top",class:[t.fullscreen.seller?"fullscreen":""]},[a("seller",{ref:"seller"}),a("div",{staticClass:"icon-expand-wrap"},[a("span",{staticClass:"iconfont",class:[t.fullscreen.seller?"icon-compress-alt":"icon-expand-alt"],style:t.color,on:{click:function(e){return t.sendFullScreenData("seller")}}})])],1),a("div",{staticClass:"bottom",class:[t.fullscreen.trend?"fullscreen":""]},[a("trend",{ref:"trend"}),a("div",{staticClass:"icon-expand-wrap"},[a("span",{staticClass:"iconfont",class:[t.fullscreen.trend?"icon-compress-alt":"icon-expand-alt"],style:t.color,on:{click:function(e){return t.sendFullScreenData("trend")}}})])],1)]),a("div",{staticClass:"screen-body-middle"},[a("div",{staticClass:"top",class:[t.fullscreen.map?"fullscreen":""]},[a("Map",{ref:"map"}),a("div",{staticClass:"icon-expand-wrap"},[a("span",{staticClass:"iconfont",class:[t.fullscreen.map?"icon-compress-alt":"icon-expand-alt"],style:t.color,on:{click:function(e){return t.sendFullScreenData("map")}}})])],1),a("div",{staticClass:"bottom",class:[t.fullscreen.rank?"fullscreen":""]},[a("rank",{ref:"rank"}),a("div",{staticClass:"icon-expand-wrap"},[a("span",{staticClass:"iconfont",class:[t.fullscreen.rank?"icon-compress-alt":"icon-expand-alt"],style:t.color,on:{click:function(e){return t.sendFullScreenData("rank")}}})])],1)]),a("div",{staticClass:"screen-body-right"},[a("div",{staticClass:"top",class:[t.fullscreen.stock?"fullscreen":""]},[a("stock",{ref:"stock"}),a("div",{staticClass:"icon-expand-wrap"},[a("span",{staticClass:"iconfont",class:[t.fullscreen.stock?"icon-compress-alt":"icon-expand-alt"],style:t.color,on:{click:function(e){return t.sendFullScreenData("stock")}}})])],1),a("div",{staticClass:"bottom",class:[t.fullscreen.hot?"fullscreen":""]},[a("hot",{ref:"hot"}),a("div",{staticClass:"icon-expand-wrap"},[a("span",{staticClass:"iconfont",class:[t.fullscreen.hot?"icon-compress-alt":"icon-expand-alt"],style:t.color,on:{click:function(e){return t.sendFullScreenData("hot")}}})])],1)])])])},u=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-middle"},[a("span",[t._v("电商平台实时监控")])])}],f=a("5530"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"com-container"},[a("div",{ref:"hot_ref",staticClass:"com-chart"}),a("span",{staticClass:"iconfont left",style:t.arrFontStyle,on:{click:t.toLeft}},[t._v("")]),a("span",{staticClass:"iconfont right",style:t.arrFontStyle,on:{click:t.toRight}},[t._v("")]),a("span",{staticClass:"cat-name",style:t.catNameFontSize},[t._v(t._s(t.catName))])])},p=[],b=(a("99af"),a("4160"),a("d81d"),a("b0c0"),a("159b"),a("2f62")),g={chalk:{backgroundColor:"#161522",color:"#fff",themeImg:"qiehuan_dark.png",headerBgImg:"header_border_dark.png",titleBackgroundColor:"#222733"},vintage:{backgroundColor:"#eee",color:"#000",themeImg:"qiehuan_light.png",headerBgImg:"header_border_light.png",titleBackgroundColor:"#fff"}},y={getThemeStyle:function(t){return g[t]}},S={data:function(){return{echartInstance:null,allData:null,currentIndex:0,catNameFontSize:{fontSize:0},arrFontSize:0}},computed:Object(f["a"])({arrFontStyle:function(){return{fontSize:this.arrFontSize,color:y.getThemeStyle(this.theme).color}},catName:function(){return this.allData?this.allData[this.currentIndex].name:""}},Object(b["b"])(["theme"])),watch:{theme:function(){this.echartInstance.dispose(),this.initChart(),this.screenAdapt(),this.updateChart()}},methods:{initChart:function(){this.echartInstance=this.$echarts.init(this.$refs.hot_ref,this.theme);var t={title:{text:"|   热销商品销售金额占比统计",left:"1%",top:"5%"},legend:{top:"20%",icon:"circle"},tooltip:{},series:[{type:"pie",label:{show:!1},emphasis:{label:{show:!0},labelLine:{show:!1}}}]};this.echartInstance.setOption(t)},getData:function(t){this.allData=t,this.updateChart()},updateChart:function(){var t=this.allData[this.currentIndex].children.map((function(t){return t.name})),e=this.allData[this.currentIndex].children.map((function(t){return{name:t.name,value:t.value,children:t.children}})),a={tooltip:{formatter:function(t){var e=t.data.children,a=0,r="";return e.forEach((function(t){a+=t.value})),e.forEach((function(t){r+="".concat(t.name,"：").concat(parseInt(t.value/a*100),"%<br />")})),r}},series:{data:e},legend:{data:t}};this.echartInstance.setOption(a)},screenAdapt:function(){var t=this.$refs.hot_ref.offsetWidth/100*3.6,e={title:{textStyle:{fontSize:t}},legend:{textStyle:{fontSize:t/2},itemWidth:t/2,itemHeight:t/2,itemGap:t/2},series:{center:["50%","60%"],radius:4*t}};this.arrFontSize=2*t+"px",this.catNameFontSize.fontSize=t/1.5+"px",this.echartInstance.setOption(e),this.echartInstance.resize()},toLeft:function(){this.currentIndex--,this.currentIndex<0&&(this.currentIndex=this.allData.length-1),this.updateChart()},toRight:function(){this.currentIndex++,this.currentIndex>this.allData.length-1&&(this.currentIndex=0),this.updateChart()}},created:function(){this.$socket.registerCallBack("hotData",this.getData)},mounted:function(){this.initChart(),this.$socket.sendData({action:"getData",socketType:"hotData",chartName:"hotproduct",value:""}),window.addEventListener("resize",this.screenAdapt),this.screenAdapt()},destroyed:function(){window.removeEventListener("resize",this.screenAdapt),this.$socket.unregisterCallBack("getData")}},C=S,v=(a("0dfa"),Object(n["a"])(C,m,p,!1,null,"567d46b1",null)),k=v.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"com-container"},[a("div",{ref:"map_ref",staticClass:"com-chart",on:{dblclick:t.handleBackToChina}})])},w=[],D=(a("96cf"),a("1da1")),I=a("bc3a"),T=a.n(I),W={"安徽":"anhui","陕西":"shanxi1","澳门":"aomen","北京":"beijing","重庆":"chongqing","福建":"fujian","甘肃":"gansu","广东":"guangdong","广西":"guangxi","贵州":"guizhou","海南":"hainan","河北":"hebei","黑龙江":"heilongjiang","河南":"henan","湖北":"hubei","湖南":"hunan","江苏":"jiangsu","江西":"jiangxi","吉林":"jilin","辽宁":"liaoning","内蒙古":"neimenggu","宁夏":"ningxia","青海":"qinghai","山东":"shandong","上海":"shanghai","山西":"shanxi","四川":"sichuan","台湾":"taiwan","天津":"tianjin","香港":"xianggang","新疆":"xinjiang","西藏":"xizang","云南":"yunnan","浙江":"zhejiang"};function $(t){var e="/statics/map/province/".concat(W[t],".json");return{key:W[t],path:e}}var O={data:function(){return{echartsInstance:null,allData:null,maps:{}}},computed:Object(f["a"])({},Object(b["b"])(["theme"])),watch:{theme:function(){this.echartsInstance.dispose(),this.initChart(),this.screenAdapt(),this.updateData()}},methods:{initChart:function(){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={title:{text:"|   商家分布",top:"5%"},geo:{type:"map",map:"china",top:"5%",bottom:"5%",itemStyle:{areaColor:"#2E72BF",borderColor:"#333"}},legend:{left:"5%",bottom:"5%",orient:"vertical"}},t.echartsInstance=t.$echarts.init(t.$refs.map_ref,t.theme),e.next=4,T.a.get("http://localhost:8999/statics/map/china.json");case 4:r=e.sent,t.$echarts.registerMap("china",r.data),t.echartsInstance.setOption(a),t.echartsInstance.on("click",(function(e){t.$socket.sendData({action:"getData",socketType:"provinceData",chartName:"map",value:e.name})}));case 8:case"end":return e.stop()}}),e)})))()},getProvinceData:function(t){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function a(){var r,o,i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=$(t.value),o=r.key,i={geo:{map:o}},e.maps[o]){a.next=9;break}return a.next=6,T.a.get("http://localhost:8999"+r.path);case 6:n=a.sent,e.maps[o]=1,e.$echarts.registerMap(o,n.data);case 9:e.echartsInstance.setOption(i);case 10:case"end":return a.stop()}}),a)})))()},getData:function(t){this.allData=t,this.updateData()},updateData:function(){var t=this.allData.map((function(t){return{type:"effectScatter",coordinateSystem:"geo",name:t.name,data:t.children,rippleEffect:{scale:5,brushType:"stroke"}}})),e=this.allData.map((function(t){return t.name})),a={series:t,legend:{data:e}};this.echartsInstance.setOption(a)},screenAdapt:function(){var t=this.$refs.map_ref.offsetWidth/100*3.6,e={title:{textStyle:{fontSize:t}},legend:{itemWidth:t/2,itemHeight:t/2,itemGap:t/2,textStyle:{fontSize:t/2}}};this.echartsInstance.setOption(e),this.echartsInstance.resize()},handleBackToChina:function(){this.$socket.sendData({action:"backToChina",socketType:"backToChina"})},backToChina:function(){var t={geo:{map:"china"}};this.echartsInstance.setOption(t)}},created:function(){this.$socket.registerCallBack("mapData",this.getData),this.$socket.registerCallBack("provinceData",this.getProvinceData),this.$socket.registerCallBack("backToChina",this.backToChina)},mounted:function(){this.initChart(),this.$socket.sendData({action:"getData",socketType:"mapData",chartName:"map",value:""}),window.addEventListener("resize",this.screenAdapt),this.screenAdapt()},destroyed:function(){window.removeEventListener("resize",this.screenAdapt),this.$socket.unregisterCallBack("mapData"),this.$socket.unregisterCallBack("provinceData"),this.$socket.unregisterCallBack("backToChina")}},_=O,A=Object(n["a"])(_,x,w,!1,null,null,null),z=A.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"com-container"},[a("div",{ref:"rank_ref",staticClass:"com-chart"})])},B=[],j={data:function(){return{echartInstance:null,allData:null,startValue:0,endValue:9,timerId:null}},computed:Object(f["a"])({},Object(b["b"])(["theme"])),watch:{theme:function(){this.echartInstance.dispose(),this.initChart(),this.screenAdapt(),this.updateChart()}},methods:{initChart:function(){this.echartInstance=this.$echarts.init(this.$refs.rank_ref,this.theme);var t={title:{text:"|   地区销售排行",left:"1%",top:"5%"},grid:{top:"40%",left:"5%",right:"5%",bottom:"5%",containLabel:!0},tooltip:{},xAxis:{type:"category"},yAxis:{type:"value",name:"销售金额（万）"},series:[{type:"bar"}]};this.echartInstance.setOption(t)},getData:function(t){this.allData=t,this.startMove(),this.updateChart()},updateChart:function(){var t=this;this.allData=this.allData.sort((function(t,e){return e.value-t.value}));var e=[["#0BA82C","#4FF778"],["#2E72BF","#23E5E5"],["#5052EE","#AB6EE5"]],a=this.allData.map((function(t){return t.name})),r=this.allData.map((function(t){return t.value})),o={xAxis:{data:a},series:{data:r,itemStyle:{color:function(a){var r=a.data,o=[];return o=r>300?e[0]:r>200?e[1]:e[2],new t.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:o[0]},{offset:1,color:o[1]}])}}},dataZoom:{show:!1,startValue:this.startValue,endValue:this.endValue}};this.echartInstance.setOption(o)},screenAdapt:function(){var t=this.$refs.rank_ref.offsetWidth/100*3.6,e={title:{textStyle:{fontSize:t}},series:[{barWidth:t,itemStyle:{barBorderRadius:[t/2,t/2,0,0]}}]};this.echartInstance.setOption(e),this.echartInstance.resize()},startMove:function(){var t=this;this.timerId&&clearInterval(this.timerId),this.timerId=setInterval((function(){t.startValue++,t.endValue++,t.endValue>t.allData.length-1&&(t.startValue=0,t.endValue=9),t.echartInstance.setOption({dataZoom:{startValue:t.startValue,endValue:t.endValue}})}),2e3)}},created:function(){this.$socket.registerCallBack("rankData",this.getData)},mounted:function(){this.initChart(),this.$socket.sendData({action:"getData",socketType:"rankData",chartName:"rank",value:""}),window.addEventListener("resize",this.screenAdapt),this.screenAdapt()},destroyed:function(){window.removeEventListener("resize",this.screenAdapt),clearInterval(this.timerId),this.$socket.unregisterCallBack("rankData")}},E=j,F=Object(n["a"])(E,L,B,!1,null,null,null),P=F.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"com-container"},[a("div",{ref:"seller_ref",staticClass:"com-chart"})])},N=[],V=(a("fb6a"),{data:function(){return{echartInstance:null,allData:null,presentPage:1,maxPage:0,timerId:null}},computed:Object(f["a"])({color:function(){return y.getThemeStyle(this.theme).color}},Object(b["b"])(["theme"])),watch:{theme:function(){this.echartInstance.dispose(),this.initChart(),this.screenAdapt(),this.updateChart()}},created:function(){this.$socket.registerCallBack("sellerData",this.getData)},mounted:function(){this.initChart(),this.$socket.sendData({action:"getData",socketType:"sellerData",chartName:"seller",value:""}),window.addEventListener("resize",this.screenAdapt),this.screenAdapt()},destroyed:function(){clearInterval(this.timerId),window.removeEventListener("resize",this.screenAdapt),this.$socket.unregisterCallBack("sellerData")},methods:{initChart:function(){var t=this,e={title:{text:"|   商家销售统计",top:"5%"},grid:{top:"20%",left:"3%",right:"6%",bottom:"3%",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category"},tooltip:{trigger:"axis",axisPointer:{type:"line",lineStyle:{color:"#2D3443"},z:0}},series:[{type:"bar",label:{show:!0,position:"right",color:this.color},itemStyle:{color:new this.$echarts.graphic.LinearGradient(0,0,1,0,[{offset:0,color:"#5052EE"},{offset:1,color:"#AB6EE5"}])}}]};this.echartInstance=this.$echarts.init(this.$refs.seller_ref,this.theme),this.echartInstance.setOption(e),this.echartInstance.on("mouseover",(function(){clearInterval(t.timerId)})),this.echartInstance.on("mouseout",(function(){t.startInterval()}))},getData:function(t){this.allData=t,this.allData.sort((function(t,e){return e.value-t.value})),this.maxPage=this.allData.length%5?Math.ceil(this.allData/5):this.allData.length/5,this.updateChart(),this.startInterval()},updateChart:function(){var t=5*(this.presentPage-1),e=5*this.presentPage,a=this.allData.slice(t,e),r=a.map((function(t){return t.value})),o=a.map((function(t){return t.name})),i={yAxis:{data:o},series:[{data:r}]};this.echartInstance.setOption(i)},startInterval:function(){var t=this;this.timerId&&clearInterval(this.timerId),this.timerId=setInterval((function(){t.presentPage++,t.presentPage>t.maxPage&&(t.presentPage=1),t.updateChart()}),3e3)},screenAdapt:function(){var t=this.$refs.seller_ref.offsetWidth/100*3.6,e={title:{textStyle:{fontSize:t}},tooltip:{axisPointer:{lineStyle:{width:t}}},series:[{barWidth:t,itemStyle:{barBorderRadius:[0,t/2,t/2,0]}}]};this.echartInstance.setOption(e),this.echartInstance.resize()}}}),H=V,R=Object(n["a"])(H,M,N,!1,null,null,null),G=R.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"com-container"},[a("div",{ref:"stock_ref",staticClass:"com-chart"})])},q=[],Z={data:function(){return{echartsInstance:null,allData:null,titleFontSize:0,start:0,timerId:null}},computed:Object(f["a"])({},Object(b["b"])(["theme"])),watch:{theme:function(){this.echartsInstance.dispose(),this.initChart(),this.screenAdapt(),this.updateChart()}},methods:{initChart:function(){this.echartsInstance=this.$echarts.init(this.$refs.stock_ref,this.theme);var t={title:{text:"|   库存和销量分析",top:"5%",left:"1%"}};this.echartsInstance.setOption(t)},getData:function(t){this.allData=t,this.updateChart()},updateChart:function(){var t=this,e=[["18%","40%"],["50%","40%"],["82%","40%"],["34%","75%"],["66%","75%"]],a=[["#4FF778","#0BA82C"],["#E5DD45","#E8B11C"],["#E8821C","#E55445"],["#5052EE","#AB6EE5"],["#23E5E5","#2E72BF"]],r=this.allData.slice(5*this.start,5*(this.start+1)),o=r.map((function(r,o){return{type:"pie",name:r.name,center:e[o],hoverAnimation:!1,label:{position:"center",color:a[o][0]},labelLine:{show:!1},emphasis:{label:{show:!0}},radius:["25%","30%"],data:[{name:r.name+"\n\n"+r.sales,value:r.sales,itemStyle:{color:new t.$echarts.graphic.LinearGradient(0,1,0,0,[{offset:0,color:a[o][0]},{offset:1,color:a[o][1]}])}},{value:r.stock,itemStyle:{color:"#333843"}}]}})),i={series:o};this.echartsInstance.setOption(i)},screenAdapt:function(){var t=[];this.titleFontSize=this.$refs.stock_ref.offsetWidth/100*3.6;for(var e=0;e<5;e++)t.push({type:"pie",label:{fontSize:this.titleFontSize/2}});var a={title:{textStyle:{fontSize:this.titleFontSize}},series:t};this.echartsInstance.setOption(a),this.echartsInstance.resize()},changeShow:function(){var t=this;this.timerId&&clearInterval(this.timerId),this.timerId=setInterval((function(){t.start++,t.start>1&&(t.start=0),t.updateChart()}),5e3)}},created:function(){this.$socket.registerCallBack("stockData",this.getData)},mounted:function(){this.initChart(),this.$socket.sendData({action:"getData",socketType:"stockData",chartName:"stock",value:""}),window.addEventListener("resize",this.screenAdapt),this.screenAdapt(),this.changeShow()},destroyed:function(){window.removeEventListener("resize",this.screenAdapt),clearInterval(this.timerId),this.$socket.unregisterCallBack("stockData")}},U=Z,Y=Object(n["a"])(U,J,q,!1,null,null,null),K=Y.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"com-container"},[a("div",{staticClass:"title-com",style:t.titleStyle},[a("div",{staticClass:"title-wrap",on:{click:t.handleClick}},[a("span",{staticClass:"title",style:t.titleStyle},[t._v(t._s(t.title))]),a("span",{staticClass:"iconfont arrow",style:t.titleStyle},[t._v("")])]),a("div",{class:t.titleWrapClass,style:t.titleListHeightC},t._l(t.selectedTitle,(function(e){return a("div",{key:e.key,on:{click:function(a){return t.titleSelect(e)}}},[t._v(t._s(e.text))])})),0)]),a("div",{ref:"trend_ref",staticClass:"com-chart"})])},X=[],tt=(a("4de4"),{data:function(){return{echartsInstance:null,allData:null,titleWrapClass:["title-list"],title:"",titleFontSize:"",titleListHeight:0}},computed:Object(f["a"])({selectedTitle:function(){var t=this;return this.allData?this.allData.type.filter((function(e){return e.text!==t.title})):null},titleStyle:function(){return{fontSize:this.titleFontSize+"px",color:y.getThemeStyle(this.theme).color}},titleListHeightC:function(){return{height:3*this.titleListHeight+"px",color:y.getThemeStyle(this.theme).color,backgroundColor:y.getThemeStyle(this.theme).titleBackgroundColor}}},Object(b["b"])(["theme"])),watch:{theme:function(){this.echartsInstance.dispose(),this.initChart(),this.screenAdapt(),this.updateChart()}},created:function(){this.$socket.registerCallBack("trendData",this.getData)},mounted:function(){this.initChart(),this.$socket.sendData({action:"getData",socketType:"trendData",chartName:"trend",value:""}),window.addEventListener("resize",this.screenAdapt),this.screenAdapt()},destroyed:function(){window.removeEventListener("resize",this.screenAdapt),this.$socket.unregisterCallBack("trendData")},methods:{initChart:function(){this.echartsInstance=this.$echarts.init(this.$refs.trend_ref,this.theme);var t={grid:{top:"40%",left:"3%",right:"8%",bottom:"3%",containLabel:!0},tooltip:{trigger:"axis"},legend:{left:"5%",top:"20%",icon:"circle"},xAxis:{name:"月份",type:"category",boundaryGap:!1},yAxis:{type:"value"}};this.echartsInstance.setOption(t)},getData:function(t){this.allData=t,this.title=t.type[0].text,this.updateChart()},updateChart:function(t){var e=this;void 0===t&&(t="map");var a=["rgba(11, 168, 44, 0.5)","rgba(44, 110, 255, 0.5)","rgba(22, 242, 217, 0.5)","rgba(254, 33, 30, 0.5)","rgba(250, 105, 44, 0.5)"],r=["rgba(11, 168, 44, 0)","rgba(44, 110, 255, 0)","rgba(22, 242, 217, 0)","rgba(254, 33, 30, 0)","rgba(250, 105, 44, 0)"],o=this.allData[t],i=o.data,n=o.unit,s=i.map((function(t,o){return{type:"line",name:t.name,data:t.data,stack:"map",areaStyle:{color:new e.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:a[o]},{offset:1,color:r[o]}])}}})),l=i.map((function(t){return t.name})),c={xAxis:{data:this.allData.common.month},yAxis:{name:"销量("+n+")"},series:s,legend:{data:l}};this.echartsInstance.setOption(c)},handleClick:function(){0===this.titleListHeight?this.titleListHeight=this.titleFontSize:this.titleListHeight=0},titleSelect:function(t){this.title=t.text,this.titleListHeight=0,this.updateChart(t.key)},screenAdapt:function(){0!==this.titleListHeight&&(this.titleListHeight=this.titleFontSize),this.titleFontSize=this.$refs.trend_ref.offsetWidth/100*3.6;var t={legend:{itemWidth:this.titleFontSize/2,itemHeight:this.titleFontSize/2,textStyle:{fontsize:this.titleFontSize/2}}};this.echartsInstance.setOption(t),this.echartsInstance.resize()}}}),et=tt,at=(a("78ad"),Object(n["a"])(et,Q,X,!1,null,"5bc670ab",null)),rt=at.exports,ot={data:function(){return{timerId:null,nowTime:"",fullscreen:{hot:!1,map:!1,rank:!1,seller:!1,stock:!1,trend:!1}}},computed:Object(f["a"])({themeImg:function(){return"/statics/img/"+y.getThemeStyle(this.theme).themeImg},bgColor:function(){return"background-color:"+y.getThemeStyle(this.theme).backgroundColor},color:function(){return{color:y.getThemeStyle(this.theme).color,backgroundImage:'url("/statics/img/'+y.getThemeStyle(this.theme).headerBgImg+'")'}}},Object(b["b"])(["theme"])),components:{hot:k,Map:z,rank:P,seller:G,stock:K,trend:rt},methods:{startInterval:function(){var t=this;this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout((function(){t.getTime(),t.startInterval()}),1e3)},getTime:function(){var t=new Date,e=t.getFullYear(),a=s(t.getMonth()+1),r=s(t.getDate()),o=s(t.getHours()),i=s(t.getMinutes()),n=s(t.getSeconds());function s(t){return t<10?"0"+t:t}this.nowTime=e+"-"+a+"-"+r+" "+o+":"+i+":"+n},sendFullScreenData:function(t){var e=!this.fullscreen[t];this.$socket.sendData({action:"fullScreen",socketType:"fullScreen",chartName:t,value:e})},fullScreenToggle:function(t){var e=this,a=t.chartName,r=t.value;this.fullscreen[a]=r,this.$nextTick((function(){e.$refs[a].screenAdapt()}))},handleChangeTheme:function(){var t=!this.$store.theme;this.$socket.sendData({action:"changeTheme",socketType:"changeTheme",value:t})},changeTheme:function(t){this.$store.commit("changeTheme")}},created:function(){this.$socket.registerCallBack("fullScreen",this.fullScreenToggle),this.$socket.registerCallBack("changeTheme",this.changeTheme)},mounted:function(){this.startInterval(),this.getTime()},destroyed:function(){clearTimeout(this.timerId),this.$socket.unregisterCallBack("fullScreen")}},it=ot,nt=(a("2d4e"),Object(n["a"])(it,d,u,!1,null,"3aecbdf6",null)),st=nt.exports;r["a"].use(h["a"]);var lt=[{path:"/screenPage",component:st},{path:"/",component:st}],ct=new h["a"]({routes:lt}),ht=ct;r["a"].use(b["a"]);var dt=new b["a"].Store({state:{theme:"chalk"},mutations:{changeTheme:function(t){"chalk"===t.theme?t.theme="vintage":t.theme="chalk"}},actions:{},modules:{}}),ut=a("313e"),ft=a.n(ut),mt=a("3bbe"),pt=a.n(mt),bt=a("e196"),gt=a.n(bt),yt=(a("bd4b"),a("a342"),a("d4ec")),St=a("bee2"),Ct=a("ade3"),vt=function(){function t(){Object(yt["a"])(this,t),Object(Ct["a"])(this,"ws",null),Object(Ct["a"])(this,"reconnectTimes",0),Object(Ct["a"])(this,"connected",!1),Object(Ct["a"])(this,"resendCount",0),Object(Ct["a"])(this,"callBackMapping",{})}return Object(St["a"])(t,[{key:"connect",value:function(){var t=this;window.WebSocket?(this.ws=new WebSocket("ws://localhost:9998"),this.ws.onopen=function(){console.log("服务器已连接"),t.connected=!0,t.reconnectTimes=0},this.ws.onclose=function(){console.log("服务器连接断开"),setTimeout((function(){t.reconnectTimes++,t.connect()}),500*t.reconnectTimes)},this.ws.onmessage=function(e){var a=JSON.parse(e.data),r=a.socketType;if(t.callBackMapping[r]){var o=a.action;if("getData"===o){if("provinceData"===r)return void t.callBackMapping[r].call(t,a);var i=JSON.parse(a.data);t.callBackMapping[r].call(t,i)}else t.callBackMapping[r].call(t,a)}}):console.log("您的浏览器不支持WebSocket")}},{key:"registerCallBack",value:function(t,e){this.callBackMapping[t]=e}},{key:"unregisterCallBack",value:function(t){this.callBackMapping[t]=null}},{key:"sendData",value:function(t){var e=this;this.connected?(this.resendCount=0,this.ws.send(JSON.stringify(t))):setTimeout((function(){e.resendCount++,e.sendData(t)}),500*this.resendCount)}}],[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}();Object(Ct["a"])(vt,"_instance",null),T.a.defaults.baseURL="http://127.0.0.1:8888/api",vt.instance.connect(),r["a"].prototype.$socket=vt.instance,r["a"].config.productionTip=!1,r["a"].prototype.$echarts=ft.a,r["a"].prototype.$axios=T.a,console.log(pt.a,gt.a),new r["a"]({router:ht,store:dt,render:function(t){return t(c)}}).$mount("#app")},"78ad":function(t,e,a){"use strict";a("9f82")},"9f82":function(t,e,a){},a342:function(t,e,a){},bd4b:function(t,e,a){},e196:function(t,e,a){var r,o,i;a("7037");(function(n,s){o=[e,a("313e")],r=s,i="function"===typeof r?r.apply(e,o):r,void 0===i||(t.exports=i)})(0,(function(t,e){var a=function(t){"undefined"!==typeof console&&console&&console.error&&console.error(t)};e?e.registerTheme("vintage",{color:["#0ba82c","#2c6eff","#16f2d9","#fe211e","#fa6900","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],backgroundColor:"#ffffff",textStyle:{},title:{textStyle:{color:"#333333"},subtextStyle:{color:"#aaa"}},line:{itemStyle:{normal:{borderWidth:"4"}},lineStyle:{normal:{width:"3"}},symbolSize:"0",symbol:"circle",smooth:!0},radar:{itemStyle:{normal:{borderWidth:1}},lineStyle:{normal:{width:2}},symbolSize:4,symbol:"emptyCircle",smooth:!1},bar:{itemStyle:{normal:{barBorderWidth:0,barBorderColor:"#ccc"},emphasis:{barBorderWidth:0,barBorderColor:"#ccc"}}},pie:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},scatter:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},boxplot:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},parallel:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},sankey:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},funnel:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},gauge:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},candlestick:{itemStyle:{normal:{color:"#c23531",color0:"#314656",borderColor:"#c23531",borderColor0:"#314656",borderWidth:1}}},graph:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"}},lineStyle:{normal:{width:1,color:"#aaa"}},symbolSize:4,symbol:"emptyCircle",smooth:!1,color:["#d87c7c","#919e8b","#d7ab82","#6e7074","#61a0a8","#efa18d","#787464","#cc7e63","#724e58","#4b565b"],label:{normal:{textStyle:{color:"#eee"}}}},map:{itemStyle:{normal:{areaColor:"#eeeeee",borderColor:"#444444",borderWidth:.5},emphasis:{areaColor:"rgba(255,215,0,0.8)",borderColor:"#444444",borderWidth:1}},label:{normal:{textStyle:{color:"#000000"}},emphasis:{textStyle:{color:"rgb(100,0,0)"}}}},geo:{itemStyle:{normal:{areaColor:"#eeeeee",borderColor:"#444444",borderWidth:.5},emphasis:{areaColor:"rgba(255,215,0,0.8)",borderColor:"#444444",borderWidth:1}},label:{normal:{textStyle:{color:"#000000"}},emphasis:{textStyle:{color:"rgb(100,0,0)"}}}},categoryAxis:{axisLine:{show:!0,lineStyle:{color:"#333"}},axisTick:{show:!0,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#999"}},splitLine:{show:!1,lineStyle:{color:["#ccc"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},valueAxis:{axisLine:{show:!0,lineStyle:{color:"#666666"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#aaaaaa"}},splitLine:{show:!1,lineStyle:{color:["#e6e6e6"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},logAxis:{axisLine:{show:!0,lineStyle:{color:"#333"}},axisTick:{show:!0,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#333"}},splitLine:{show:!0,lineStyle:{color:["#ccc"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},timeAxis:{axisLine:{show:!0,lineStyle:{color:"#333"}},axisTick:{show:!0,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#333"}},splitLine:{show:!0,lineStyle:{color:["#ccc"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},toolbox:{iconStyle:{normal:{borderColor:"#999999"},emphasis:{borderColor:"#666666"}}},legend:{textStyle:{color:"#333333"}},tooltip:{axisPointer:{lineStyle:{color:"#cccccc",width:1},crossStyle:{color:"#cccccc",width:1}}},timeline:{lineStyle:{color:"#293c55",width:1},itemStyle:{normal:{color:"#293c55",borderWidth:1},emphasis:{color:"#a9334c"}},controlStyle:{normal:{color:"#293c55",borderColor:"#293c55",borderWidth:.5},emphasis:{color:"#293c55",borderColor:"#293c55",borderWidth:.5}},checkpointStyle:{color:"#e43c59",borderColor:"rgba(194,53,49,0.5)"},label:{normal:{textStyle:{color:"#293c55"}},emphasis:{textStyle:{color:"#293c55"}}}},visualMap:{color:["#bf444c","#d88273","#f6efa6"]},dataZoom:{backgroundColor:"rgba(47,69,84,0)",dataBackgroundColor:"rgba(47,69,84,0.3)",fillerColor:"rgba(167,183,204,0.4)",handleColor:"#a7b7cc",handleSize:"100%",textStyle:{color:"#333333"}},markPoint:{label:{normal:{textStyle:{color:"#eee"}},emphasis:{textStyle:{color:"#eee"}}}}}):a("ECharts is not Loaded")}))},e67e:function(t,e,a){}});
//# sourceMappingURL=app.f190e430.js.map